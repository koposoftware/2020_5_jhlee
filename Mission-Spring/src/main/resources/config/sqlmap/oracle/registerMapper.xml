<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="register.dao.RegisterDAO"> 

	<!--컬럼 값 _ 다른것 맞춰주기   -->
	<resultMap type="registerVO" id="registerMap">
		<result column="consulting_no" property="consultingNo" />
		<result column="main_category" property="mainCategory" />
		<result column="middle_category" property="middleCategory" />
		<result column="consulting_channel" property="consultingChannel" />
		<result column="admin_name" property="adminName" />
		<result column="add_consulting" property="addConsulting" />
		<result column="registeration_ymd" property="registerationYmd" />
		<result column="report_ymd" property="reportYmd" />
	</resultMap>
	
	<select id="selectAllRegisterById" resultMap="registerMap" parameterType="String">
		select no, consulting_no, to_char(registeration_ymd, 'yyyy-mm-dd HH24:MI:SS') as registeration_ymd, id, name, 
		main_category, middle_category,title, consulting_channel, admin_name, empno, registeration_ymd, report_ymd, progress
		from register_tb 
		where id = #{id}
		order by no desc
	</select>
	
	<select id="selectAllRegisterByEmpno" resultMap="registerMap" parameterType="String">
		select no, consulting_no, to_char(registeration_ymd, 'yyyy-mm-dd HH24:MI:SS') as registeration_ymd, id, name, 
		main_category, middle_category,title, consulting_channel, admin_name, empno, registeration_ymd, report_ymd, progress
		from register_tb
		where empno = #{empno}
		order by no desc
	</select>
	
	</mapper>
	